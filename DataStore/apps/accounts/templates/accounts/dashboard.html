{% extends 'base.html' %}

{% block title %}Dashboard - DataStore{% endblock %}

{% block breadcrumb %}
<span class="breadcrumb-item active">Dashboard</span>
{% endblock %}

{% block content %}
<!-- Welcome Section -->
<div class="dashboard-welcome animate-fade-in-up">
    <h2><i class="fas fa-hand-wave"></i> Welcome back, {{ request.user.username }}!</h2>
    <p>Here's what's happening with your data collection projects today.</p>
</div>

<!-- Stats Grid -->
<div class="stats-grid">
    <div class="stats-card animate-fade-in-up stagger-1">
        <div class="stats-icon primary">
            <i class="fas fa-building"></i>
        </div>
        <div class="stats-content">
            <div class="stats-label">Organizations</div>
            <div class="stats-value" id="orgCount">{{ org_count|default:"0" }}</div>
            <div class="stats-change positive">
                <i class="fas fa-arrow-up"></i>
                Active partners
            </div>
        </div>
    </div>

    <div class="stats-card animate-fade-in-up stagger-2">
        <div class="stats-icon secondary">
            <i class="fas fa-folder-open"></i>
        </div>
        <div class="stats-content">
            <div class="stats-label">Projects</div>
            <div class="stats-value" id="projectCount">{{ project_count|default:"0" }}</div>
            <div class="stats-change positive">
                <i class="fas fa-chart-line"></i>
                In progress
            </div>
        </div>
    </div>

    <div class="stats-card animate-fade-in-up stagger-3">
        <div class="stats-icon accent">
            <i class="fas fa-calendar-check"></i>
        </div>
        <div class="stats-content">
            <div class="stats-label">Events</div>
            <div class="stats-value" id="eventCount">{{ event_count|default:"0" }}</div>
            <div class="stats-change positive">
                <i class="fas fa-clock"></i>
                Data collected
            </div>
        </div>
    </div>

    <div class="stats-card animate-fade-in-up stagger-4">
        <div class="stats-icon success">
            <i class="fas fa-file-alt"></i>
        </div>
        <div class="stats-content">
            <div class="stats-label">Media Files</div>
            <div class="stats-value" id="mediaCount">{{ media_count|default:"0" }}</div>
            <div class="stats-change positive">
                <i class="fas fa-cloud-upload-alt"></i>
                Uploaded
            </div>
        </div>
    </div>
</div>

<!-- Quick Actions Section -->
<div class="page-header">
    <div class="page-title">
        <div class="page-title-icon">
            <i class="fas fa-bolt"></i>
        </div>
        <h2>Quick Actions</h2>
    </div>
</div>

<div class="quick-actions">
    <a href="{% url 'organization_list' %}" class="quick-action-card animate-fade-in-up stagger-1">
        <div class="quick-action-icon" style="background: rgba(99, 102, 241, 0.15); color: var(--color-primary-light);">
            <i class="fas fa-building"></i>
        </div>
        <h5>Organizations</h5>
        <p>Manage partner organizations and their projects.</p>
    </a>

    <a href="{% url 'project_list' %}" class="quick-action-card animate-fade-in-up stagger-2">
        <div class="quick-action-icon"
            style="background: rgba(139, 92, 246, 0.15); color: var(--color-secondary-light);">
            <i class="fas fa-folder-open"></i>
        </div>
        <h5>Projects</h5>
        <p>View and manage all data collection projects.</p>
    </a>

    <a href="{% url 'organization_create' %}" class="quick-action-card animate-fade-in-up stagger-3">
        <div class="quick-action-icon" style="background: rgba(16, 185, 129, 0.15); color: var(--color-success-light);">
            <i class="fas fa-plus-circle"></i>
        </div>
        <h5>New Organization</h5>
        <p>Add a new partner organization to the system.</p>
    </a>
</div>

<!-- Recent Activity Section -->
<div class="page-header mt-5">
    <div class="page-title">
        <div class="page-title-icon"
            style="background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-primary) 100%);">
            <i class="fas fa-history"></i>
        </div>
        <h2>Getting Started</h2>
    </div>
</div>

<div class="card animate-fade-in-up">
    <div class="card-body">
        <div class="list-group">
            <div class="list-group-item">
                <div class="stats-icon primary" style="width: 40px; height: 40px; font-size: 1rem;">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="flex-1">
                    <h5 class="mb-1">Step 1: Create an Organization</h5>
                    <p class="text-muted mb-0 small">Start by adding your partner organizations to the system.</p>
                </div>
                <a href="{% url 'organization_create' %}" class="btn btn-sm btn-outline-primary">Go</a>
            </div>

            <div class="list-group-item">
                <div class="stats-icon secondary" style="width: 40px; height: 40px; font-size: 1rem;">
                    <i class="fas fa-folder-plus"></i>
                </div>
                <div class="flex-1">
                    <h5 class="mb-1">Step 2: Add a Project</h5>
                    <p class="text-muted mb-0 small">Create projects under each organization to track data collection.
                    </p>
                </div>
                <a href="{% url 'organization_list' %}" class="btn btn-sm btn-outline-primary">Go</a>
            </div>

            <div class="list-group-item">
                <div class="stats-icon accent" style="width: 40px; height: 40px; font-size: 1rem;">
                    <i class="fas fa-calendar-plus"></i>
                </div>
                <div class="flex-1">
                    <h5 class="mb-1">Step 3: Record Events</h5>
                    <p class="text-muted mb-0 small">Add data collection events to your projects.</p>
                </div>
                <a href="{% url 'project_list' %}" class="btn btn-sm btn-outline-primary">Go</a>
            </div>

            <div class="list-group-item">
                <div class="stats-icon success" style="width: 40px; height: 40px; font-size: 1rem;">
                    <i class="fas fa-cloud-upload-alt"></i>
                </div>
                <div class="flex-1">
                    <h5 class="mb-1">Step 4: Upload Media</h5>
                    <p class="text-muted mb-0 small">Attach files and documents to your events.</p>
                </div>
                <a href="{% url 'project_list' %}" class="btn btn-sm btn-outline-primary">Go</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}